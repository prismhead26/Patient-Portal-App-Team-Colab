<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
  crossorigin="anonymous"
/>

<link rel="stylesheet" href="/css/patient.css" />

<div class="container">
  <div class="row text-center text-light">
    <div class="col patient-name-container">
      <div class="row">
        <h1 class="patient-name">{{patient.name}}</h1>
      </div>
    </div>
    <div class="col patient-info-container">
      <div class="row">
        <h2 class="patient-info-title">Patient Information</h2>
      </div>
      <div class="row patient-info">
        <p><u>DOB</u>: {{patient.birthday}}</p>
        <p><u>Address</u>: {{patient.address}}</p>
        <p><u>Phone number</u>: {{patient.phone}}</p>
        <p><u>Unique ID</u>: {{patient.id}}</p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Update Patient</button>
    </div>
    <div class="col">
      <a href="/profile"><button class="btn btn-primary">Return to Profile</button></a>
    </div>
    <div class="col">
      <button class="btn btn-danger" id="delete-button" data-id="{{patient.id}}">Delete Patient</button>
    </div>
  </div>
</div>
<div>
  <div class="text-center text-light">
    <h2>{{patient.name}}</h2>
    <p>DOB: {{patient.birthday}}</p>
    <p>Address: {{patient.address}}</p>
    <p>Phone number: {{patient.phone}}</p>
    <p>Unique ID: {{patient.id}}</p>

    <p>
      <button
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#myModal"
      >Update Patient</button>
      <a href="/profile"><button class="btn btn-primary">Return to Profile</button></a>
      <button
        class="btn btn-primary"
        id="delete-button"
        data-id="{{patient.id}}"
      >Delete Patient</button>
      <button
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#noteModal"
      >Add New Note</button>
    </p>

  </div>
  <section>
    {{#if noteData.length}}
      <div class="container appointment-cont mt-5 mb-4">
        <h3 class="text-light text-center list-title p-0">Notes</h3>

        {{#each noteData as |note|}}
          <div class="patient-cont d-flex flex-column">
            <div>
              <h4><a
                  href="/api/notes/{{id}}"
                  class="link-warning"
                >{{note.dataValues.body}}
                  <br />
                  <br />
                </a></h4>
            </div>
          </div>
        {{/each}}
      </div>
<<<<<<< HEAD
{{!-- NEW -------------------------------------------------- --}}
      <div class="modal-body">
        <form action="" class="form">
          <div class="modal-patient-info">
            <label for="patient-name" class="text">Patient Name:</label>
            <input class="form-input" type="text" id="new-patient-name" placeholder="Ex: John Smith"><br>
          </div>
          <div class="modal-patient-info">
            <label for="patient-birthday" class="text">Birthdate:</label>
            <input class="form-input" type="text" id="new-patient-birthday" placeholder="Ex: MM/DD/YYY"><br>
          </div>
          <div class="modal-patient-info">
            <label for="patient-address" class="text">Address:</label>
            <input class="form-input" type="text" id="new-patient-address" placeholder="Ex: Street, City, State, Zip"><br>
          </div>
          <div class="modal-patient-info">
            <label for="patient-phone" class="text">Phone:</label>
            <input class="form-input" type="text"id="new-patient-phone" placeholder="Ex: 816-000-0000"><br>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="update-button" data-id="{{patient.id}}">Update Patient</button>
=======
>>>>>>> 4ea792f (fixing bugs that would prevent user from submitting changes or updating patient info/ appointment info)
    {{/if}}
  </section>

  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fs-5" id="myModalLabel">Update Patient
            Information</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form action="">
            <label for="patient-name">Name: </label>
            <input
              type="text"
              id="update-patient-name"
              value="{{patient.name}}"
            /><br />
            <label for="patient-birthday">Birthdate:
            </label>
            <input
              type="text"
              id="update-patient-birthday"
              value="{{patient.birthday}}"
            /><br />
            <label for="patient-address">Address:
            </label>
            <input
              type="text"
              id="update-patient-address"
              value="{{patient.address}}"
            /><br />
            <label for="patient-phone">Phone: </label>
            <input
              type="text"
              id="update-patient-phone"
              value="{{patient.phone}}"
            /><br />
          </form>
        </div>
        <div class="modal-footer">
          <button
            class="btn btn-primary"
            id="update-button"
            data-id="{{patient.id}}"
          >Submit Patient</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="noteModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fs-5" id="myModalLabel">Add Note</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <label for="note"></label>
          <textarea id="new-note" rows="20" cols="60"></textarea>
        </div>
        <div class="modal-footer">
          <button
            class="btn btn-primary"
            id="addNote"
            data-id="{{patient.id}}"
          >Add Note</button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="deleteModal"
    tabindex="-1"
    aria-labelledby="errorModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="errorModalLabel">Unable to delete account.
            Please try again.</h5>

          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >Close</button>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="updateModal"
    tabindex="-1"
    aria-labelledby="errorModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="errorModalLabel">Unable to update account.
            Please try again.</h5>

          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >Close</button>

          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"
></script>

<script src="/js/patient.js"></script>