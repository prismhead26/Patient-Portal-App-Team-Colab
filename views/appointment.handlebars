<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
  crossorigin="anonymous" />
  
<link rel="stylesheet" href="/css/appointment.css" />

{{!-- NEW --}}
<div class="container">
  <div class="row text-center text-light">
    <div class="col appt-title-container">
      <div class="row">
        <h1 class="appt-title">Appointment:<br/> {{appointment.title}}</h1>
      </div>
    </div>
    <div class="col appt-info-container">
      <div class="row">
        <h2 class="appt-info-title">Appointment Information</h2>
      </div>
      <div class="row appt-info">
        {{#if appointment.patient.birthday}}
        <p><u>DOB</u>: {{appointment.patient.birthday}}</p>
        {{/if}}
        <p><u>Appointment time</u>: {{formatDate appointment.time}}</p>
        {{#if appointment.patient.phone}}
        <p><u>Phone number</u>: {{appointment.patient.phone}}</p>
        {{/if}}
        {{#if appointment.patient_id}}
        <p><u>Patient ID Number</u>: {{appointment.patient_id}}</p>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myUpdateModal">Update Appointment</button>
    </div>
    <div class="col">
      <a href="/dashboard"><button class="btn btn-primary">Return to Dashboard</button></a>
    </div>
    <div class="col">
      <button class="btn btn-sm btn-danger" id="delete-button" data-id="{{appointment.id}}">Delete Appointment</button>
    </div>
    <div class="patient-actions">
    </div>
  </div>
</div>
<div class="modal fade" id="myUpdateModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title fs-5" id="myModalLabel">Update Appointment
          Information</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form action="" class="form">
          <div class="modal-appt-info">
            <label for="appointment-title" class="text">Appointment Title:</label>
            <input class="form-input" type="text" id="update-appointment-title" value="{{appointment.title}}"/><br>
          </div>
          <div class="modal-appt-info">
            <label for="new-appointment-day" class="text">Appointment Day:</label>
            <input class="form-input" type="date" id="new-appointment-day" name="new-appointment-day"><br>
          </div>
          <div class="modal-appt-info">
            <label for="new-appointment-day" class="text">Appointment Time:</label>
            <input class="form-input" type="time" id="new-appointment-time" name="new-appointment-time"><br>
          </div>
          <div class="modal-appt-info">
            <label for="appointment-patient_id" class="text">Patient_id:</label>
            <select class="form-select" id="update-appointment-patient_id">
              <option selected>Choose...</option>
                {{#each patients}}
                <option value="{{id}}">{{id}}</option>
                {{/each}}
                <option value="none">None</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="update-button" data-id="{{appointment.id}}">Update Appointment</button>
      </div>
    </div>
  </div>
</div>

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"
></script>

<script src="/js/appointment.js"></script>